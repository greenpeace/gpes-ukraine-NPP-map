<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo map</title>
</head>

<body>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        .leaflet-popup-content-wrapper,
        .leaflet-popup-tip {
            background-color: #fff;
        }

        .leaflet-popup-content-wrapper {
            color: #212529;
            font-family: "Work Sans", sans-serif;
        }

        .leaflet-popup-content p, .leaflet-popup-content h3  {
            margin: 0px 0;
        }

        .nombre_central {
            font-weight: 700;
        }

        .importe_pago {
            color: red;
        }
    </style>

    <div style="max-width: 760px; margin:auto;">
        <div id="map6" style="width: 100%; height: 550px; margin-bottom: 2em;"></div>
        <p><small>Â© 2022 Greenpeace</small></p>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" defer></script>
    




    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            /* global L, document */

            var containerEl = document.getElementById("map6");
            var elwidth = containerEl.offsetWidth;
            var mapheight = elwidth >= 550 ? 550 : 300;
            var zoomvalue = elwidth >= 550 ? 5 : 4;

            document.getElementById("map6").style.height = mapheight + "px";

            var osmap = L.map('map6', {
                scrollWheelZoom: false
            }).setView([50, 28], zoomvalue);

            // Map titles
            L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
                maxZoom: 8,
                attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
                id: 'mapbox.light',
            }).addTo(osmap);

            // Icons
            var nuclearIcon = L.icon({
                iconUrl: 'https://storage.googleapis.com/gpes-static/ucrania-nuclear-map/nuclear-32.png',
                iconSize: [32, 32],
                iconAnchor: [16, 37],
                popupAnchor: [0, -28]
              });

            // Rusia map OK
            fetch("jsonmaps/Russia.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    style: function (e) {
                        return {
                            color: e.properties.fill ? e.properties.fill : "#ffffff",
                            fillOpacity: e.properties["fill-opacity"] ? e.properties["fill-opacity"] : .3,
                            weight: e.properties["stroke-width"] ? e.properties["stroke-width"] : 1
                        }
                    }
                }).addTo(osmap);
            });

            // Ukrania map OK
            fetch("jsonmaps/Ukraine.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    style: function (e) {
                        return {
                            color: e.properties.fill ? e.properties.fill : "#ffffff",
                            fillOpacity: e.properties["fill-opacity"] ? e.properties["fill-opacity"] : .3,
                            weight: e.properties["stroke-width"] ? e.properties["stroke-width"] : 1
                        }
                    }
                }).addTo(osmap);
            });

            // Ukrain map plant - OK
            fetch("jsonmaps/Ukraine_NPP_with_active_reactors.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    pointToLayer: function (feature, latlng) {
                        return L.marker(latlng, {icon: nuclearIcon});
                    },
                    onEachFeature: function (feature, layer) {
                        layer.bindPopup(feature.properties.name);
                    },
                }).addTo(osmap);
                
            });

            // Chernobil power plant - OK
            fetch("jsonmaps/Chornobyl_nuclear_power_plant.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    pointToLayer: function (feature, latlng) {
                        return L.marker(latlng, {icon: nuclearIcon});
                    },
                    onEachFeature: function (feature, layer) {
                        layer.bindPopup(feature.properties.name);
                    },
                }).addTo(osmap);
            });

            // Zonas de Ucrania ocupadas - OK
            fetch("jsonmaps/1703_3pm_EST_ISW.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    style: function (e) {
                        return {
                            color: e.properties.fill ? e.properties.fill : "#ffffff",
                            fillOpacity: e.properties["fill-opacity"] ? e.properties["fill-opacity"] : .3,
                            weight: e.properties["stroke-width"] ? e.properties["stroke-width"] : 1
                        }
                    }
                }).addTo(osmap);
            });

            // Information on map - PUNTO NO SE QUE ES
            /* fetch("jsonmaps/information-on-map.json").then(res => res.json()).then(data => {
                L.geoJson(data, {
                    pointToLayer: function (feature, latlng) {
                        return L.marker(latlng, {icon: nuclearIcon});
                    },
                    onEachFeature: function (feature, layer) {
                        layer.bindPopup(feature.properties.name);
                    },
                }).addTo(osmap);
            }); */

            // 10KM power plant - NO
            /* fetch("jsonmaps/10km_radius_zone.json").then(res => res.json()).then(data => {
                L.geoJson(data).addTo(osmap);
            }); */

            // NO - MUCHOS PUNTOS QUE NO SE QUE SON
            /* fetch("jsonmaps/Incidents_within_150km_of_NPP.json").then(res => res.json()).then(data => {
                L.geoJson(data).addTo(osmap);
            }); */

            // NO - MUCHOS PUNTOS QUE NO SE QUE SON
            /* fetch("jsonmaps/Incidents_within_150km_of_NPP.json").then(res => res.json()).then(data => {
                L.geoJson(data).addTo(osmap);
            }); */

            // Fotos en drive - NO
            /* fetch("jsonmaps/Click_for_Zaporizhzhia_photos.json").then(res => res.json()).then(data => {
                L.geoJson(data).addTo(osmap);
            }); */


        });
    </script>

</body>

</html>